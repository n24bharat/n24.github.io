<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>N24.in | Independent News Monitor - Ravish, The Wire, Satya Hindi & Critical Analysis</title>
  <meta name="description" content="India's largest real-time aggregator for independent, neutral, and critical journalism. Tracking political accountability, economic crises (girta rupaiya, unemployment), corruption scandals, electoral bonds (chanda lo dhanda do), Adani Group news, and social justice movements." />
  
  <meta name="keywords" content="vote chori, election rigging, voter fraud allegations, ballot tampering, EVM hacking, free and fair elections, election transparency, political accountability, campaign funding, political rallies, election manifesto, voter turnout, booth capturing, election commission updates, political debates, election promises, political slogans, democracy in action, election reforms, political campaigns, opposition unity, ruling party strategies, election results live, political alliances, vote bank politics, election surveys, political opinion polls, election news updates, political controversies, election fact-checking, political speeches, election rallies live, political propaganda, election monitoring, political activism, election watchdogs, political satire, political memes, election coverage, political analysis, election trends, political journalism, election debates live, political interviews, election day updates, political fact-check, election fraud prevention, political transparency, election law changes, political reforms, political awareness campaigns, girta rupaiya, falling rupee, currency depreciation, forex market trends, inflation rate, rising prices, cost of living crisis, GDP growth rate, economic slowdown, unemployment rate, job market trends, stock market crash, share market updates, commodity prices, gold price today, crude oil prices, fuel price hike, petrol diesel rates, budget 2025, fiscal deficit, trade deficit, exports and imports, economic reforms, taxation policy, GST updates, income tax rules, startup funding, venture capital trends, fintech growth, digital payments, cryptocurrency trends, bitcoin price, blockchain adoption, economic inequality, wealth gap, poverty reduction, rural economy, urban economy, industrial growth, manufacturing sector, service sector growth, agricultural reforms, farmer protests, farm loan waivers, MSME growth, economic stimulus, foreign investment, FDI policy, economic sanctions, global trade wars, supply chain disruptions, recession fears, economic recovery, green economy, sustainable finance, renewable energy investments, corruption scandals, bribery cases, money laundering, black money, hawala transactions, political corruption, corporate lobbying, scam investigations, whistleblower cases, anti-corruption laws, transparency in governance, public accountability, misuse of public funds, procurement scams, tender manipulation, nepotism in politics, favoritism in contracts, judicial corruption, police corruption, bureaucratic corruption, governance reforms, RTI activism, public interest litigation, citizen watchdogs, ethics in politics, governance transparency, anti-bribery campaigns, corruption index ranking, fraud detection, financial irregularities, audit reports, scam exposÃ©s, investigative journalism, governance failures, misuse of power, political funding transparency, shell companies, offshore accounts, tax evasion, illicit wealth, governance best practices, public sector reforms, e-governance, digital transparency tools, Adani group news, corporate mergers, acquisitions, IPO launches, stock market movers, billionaire rankings, corporate governance, business ethics, industrial projects, infrastructure development, renewable energy projects, mining sector news, logistics industry trends, shipping industry updates, aviation sector growth, telecom industry competition, tech startups, unicorn companies, e-commerce growth, retail sector trends, FMCG market, manufacturing hubs, export industries, import policies, supply chain innovations, automation in industry, AI in business, corporate layoffs, hiring trends, workplace culture, remote work trends, hybrid work models, business conferences, trade fairs, investment summits, corporate social responsibility, ESG reporting, sustainable business models, green manufacturing, digital transformation, fintech innovations, business analytics, market research trends, consumer behavior shifts, brand marketing strategies, influencer marketing, advertising trends, product launches, customer experience, loyalty programs, youth activism, student protests, women empowerment, gender equality, LGBTQ+ rights, climate change activism, environmental protests, clean energy campaigns, water conservation, air pollution control, urban development, smart cities, rural development, healthcare reforms, vaccination drives, mental health awareness, education reforms, skill development, digital literacy, social media trends, viral challenges, meme culture, influencer trends, online communities, podcast growth, streaming platforms, OTT releases, film industry news, music industry trends, sports events, cricket world cup, football leagues, Olympic updates, esports tournaments, gaming trends, fashion trends, streetwear culture, traditional crafts revival, food trends, vegan lifestyle, fitness challenges, wellness retreats, meditation" />

  <meta property="og:title" content="N24.in | The Unreported Truth of India" />
  <meta property="og:description" content="Access independent analysis and news covering the state of democracy, economy, and society in India." />
  <meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Infobox_info_icon.svg/1200px-Infobox_info_icon.svg.png" />
  
  <style>
    :root {
      --primary: #b91c1c;
      --secondary: #1d4ed8;
      --bg: #f9fafb;
      --card: #ffffff;
      --text: #111827;
      --gray: #6b7280;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }

    /* --- HEADER --- */
    header {
      background: #fff;
      border-bottom: 3px solid var(--primary); 
      padding: 1rem;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 6px 10px -3px rgba(0,0,0,0.1); 
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo { font-size: 1.75rem; font-weight: 900; color: var(--primary); text-decoration: none; }
    .logo span { color: #000; font-weight: 300; font-size: 1rem; margin-left: 8px; }
    
    .status-badge {
      font-size: 0.8rem;
      background: #f3f4f6; 
      padding: 6px 12px;
      border-radius: 16px;
      color: var(--gray);
      font-weight: 600;
      transition: background-color 0.3s;
    }

    /* --- LAYOUT --- */
    main { max-width: 960px; margin: 0 auto; padding: 20px 15px; }
    
    /* FIX: Hiding content only until the first successful render to prevent flicker. */
    #feed-stream {
      display: flex;
      flex-direction: column;
      gap: 24px; 
      opacity: 0; /* Hidden by default */
    }
    main.loaded #feed-stream { opacity: 1; transition: opacity 0.5s ease-in; }

    /* --- CARD DESIGN --- */
    .news-card {
      background: var(--card);
      border-radius: 12px; 
      box-shadow: 0 4px 12px rgba(0,0,0,0.08); 
      overflow: hidden;
      border: 1px solid #e5e7eb;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .news-card:hover { transform: translateY(-3px); box-shadow: 0 8px 16px rgba(0,0,0,0.15); }

    .card-body { padding: 18px; }

    .source-tag {
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      color: var(--secondary);
      margin-bottom: 8px; 
      display: block;
    }

    .card-title {
      font-size: 1.25rem; 
      margin: 0 0 12px 0;
      font-weight: 700;
      line-height: 1.35;
    }
    .card-title a { text-decoration: none; color: inherit; }
    .card-title a:hover { color: var(--primary); text-decoration: underline; }

    .card-desc {
      font-size: 1rem; 
      color: #374151;
      margin-bottom: 15px;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .card-meta {
      font-size: 0.85rem;
      color: var(--gray);
      border-top: 1px solid #e5e7eb; 
      padding-top: 12px;
      display: flex;
      justify-content: space-between;
    }

    /* VIDEO STYLES */
    .video-wrapper {
      position: relative;
      padding-top: 56.25%; /* 16:9 Aspect Ratio */
      background: #111;
      display: block;
    }
    .video-wrapper img {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; 
      transition: opacity 0.3s;
    }
    .play-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.3);
      cursor: pointer;
    }
    .play-icon {
      font-size: 3.5rem;
      color: #fff;
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.7));
      transition: transform 0.2s, color 0.2s;
    }
    .news-card:hover .play-icon { transform: scale(1.15); color: #ff3d3d; }

    /* --- LOADER --- */
    .loader {
      text-align: center;
      padding: 30px;
      color: var(--gray);
      font-style: italic;
      font-size: 1rem;
      transition: opacity 0.5s;
    }
  </style>
</head>
<body>

<header>
  <a href="#" class="logo">N24.in <span>| Independent India</span></a>
  <div class="status-badge" id="conn-status">Initializing...</div>
</header>

<main>
  <div id="loader" class="loader">Fetching latest reports from independent sources...</div>
  <div id="feed-stream"></div>
</main>

<span style="display:none;">
  </span>

<footer>
  <div style="text-align:center; padding: 20px; font-size: 0.8rem; color: #777;">
    &copy; 2025 N24.in - Aggregating Public RSS Feeds for Educational Purposes. Content belongs to respective publishers.
  </div>
</footer>

<script data-goatcounter="https://n24.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<script>
/**
 * SOURCE CONFIGURATION (Restored to High Volume List)
 */
const SOURCES = {
  news: [
    { name: "The Wire Hindi", url: "site:thewirehindi.com" },
    { name: "Satya Hindi", url: "site:satyahindi.com" },
    { name: "Newslaundry", url: "site:newslaundry.com" },
    { name: "The Quint Hindi", url: "site:hindi.thequint.com" },
    { name: "BBC News Hindi", url: "site:bbc.com/hindi" },
    { name: "DW Hindi", url: "site:dw.com/hi" } 
  ],
  video: [
    { name: "Ravish Kumar", id: "UC0yXUUIaPVAqZLgRjvtMftw" },
    { name: "Dhruv Rathee", id: "UC1rIVG8Kecn9h-PHRLlj4Jw" },
    { name: "Aapka Ajit Anjum", id: "UCkquFW943phrj5RbNqtqj4w" }, 
    { name: "Abhisar Sharma", id: "UCZtSbw6D_IK7CwYj0q9p1Gw" },
    { name: "News24 (Manak/Sandeep)", id: "UCnu4tD50k_k9y6pI2xT9lQA" },
    { name: "The Lallantop", id: "UCx8Z14PpntdaxCt2hakbqlQ" },
    { name: "Bolta Hindustan", id: "UCC5o5iCgM4V2rM2vYwJ2rEQ" },
    { name: "Red Mike", id: "UCn3a70Dq3o5WGe5JKdC7YHQ" },
    { name: "Punya Prasun Bajpai", id: "UCXCG3leC3eHChlU2OPWMk_A" },
    { name: "Deshbhakt (Akash)", id: "UCi82q8cZfXz7g3yL-6tG27A" },
    { name: "Satya Hindi (Video)", id: "UC3N0dJm-w1l_S8_d-eNl73A" },
    { name: "Kapil Sibal", id: "UCY-i892p3fQ59i5lK3yR-4A" }
  ]
};

// Using a single, reliable JSON proxy for all XML/RSS content.
const PROXY_URL = "https://api.allorigins.win/get?url=";


let FEED_ITEMS = [];
let LOADING_COUNT = 0;
let lastRenderedCount = 0; 
let INITIAL_RENDERED = false; // Flag to control the initial smooth display

// *** Infinite Scroll Variables ***
let DISPLAY_LIMIT = 20; 
const INCREMENT_STEP = 15; 


/* --- DATA FETCHING FUNCTIONS --- */

async function fetchNews(source) {
  // Google News RSS link for the specified source
  const rssUrl = `https://news.google.com/rss/search?q=${source.url}&hl=hi&gl=IN&ceid=IN:hi`;
  await fetchAndParse(rssUrl, source.name, 'news');
}

async function fetchVideo(source) {
  // YouTube RSS link
  const rssUrl = `https://www.youtube.com/feeds/videos.xml?channel_id=${source.id}`;
  await fetchAndParse(rssUrl, source.name, 'video');
}

async function fetchAndParse(url, sourceName, type) {
  // Increment count outside try block
  LOADING_COUNT++;
  updateStatus();

  try {
    // 1. Fetch JSON wrapper from proxy
    const res = await fetch(PROXY_URL + encodeURIComponent(url));
    if (!res.ok) throw new Error(`Network Error: ${res.status}`);
    
    const data = await res.json();
    if (!data || !data.contents) throw new Error("Proxy returned empty content.");
    const text = data.contents;
    
    // 2. Parse XML content
    const parser = new DOMParser();
    const xml = parser.parseFromString(text, "text/xml");
    if (xml.querySelector("parsererror")) throw new Error("XML Parse Error");

    const entries = xml.querySelectorAll("item, entry");
    let newItemsAdded = false;

    entries.forEach(entry => {
      const title = entry.querySelector("title")?.textContent || "";
      if(title.length < 10) return;

      const pubDate = entry.querySelector("pubDate")?.textContent || entry.querySelector("published")?.textContent;
      let link = "";
      let thumb = "";
      let snippet = "";

      if (type === 'video') {
        // Get Link
        link = entry.querySelector("link[rel='alternate']")?.getAttribute('href') || entry.querySelector("link")?.textContent;
        
        let vidId = null;
        
        // FIX: Reliable Video ID extraction from the link
        if (link) {
             // Regex to capture the ID from /watch?v=, /youtu.be/ or /embed/
            const match = link.match(/(?:v=|youtu\.be\/|embed\/)([^&?"]+)/);
            if (match) {
                vidId = match[1];
            }
        }

        if(vidId) {
            // Constructing the preferred medium-quality thumbnail URL (FIX for preview)
            thumb = `https://i.ytimg.com/vi/${vidId}/mqdefault.jpg`;
        } else {
            // Last resort: Check for media:thumbnail attribute URL
            thumb = entry.querySelector("media\\:group media\\:thumbnail")?.getAttribute('url') || entry.querySelector("media\\:thumbnail")?.getAttribute('url');
        }
        
      } else {
        // News Link Cleaning (for Google News RSS)
        link = entry.querySelector("link")?.textContent;
        const match = link.match(/url=(.+?)\&/);
        if (match) link = decodeURIComponent(match[1]);
        
        const rawDesc = entry.querySelector("description")?.textContent || "";
        const div = document.createElement("div");
        div.innerHTML = rawDesc;
        snippet = div.innerText.substring(0, 160) + "...";
      }

      FEED_ITEMS.push({
        source: sourceName,
        title: title,
        link: link,
        date: new Date(pubDate),
        type: type,
        thumb: thumb,
        snippet: snippet
      });
      newItemsAdded = true;
    });

    // FIX: Render immediately if items were added to prevent the stuck feeling
    if (newItemsAdded) {
        FEED_ITEMS.sort((a, b) => b.date - a.date);
        
        // Only run this complex clearing/re-rendering logic once at the very start
        if (!INITIAL_RENDERED) {
            document.getElementById("feed-stream").innerHTML = ''; 
            lastRenderedCount = 0; 
            document.querySelector('main').classList.add('loaded'); // Show content
            INITIAL_RENDERED = true;
            
            // FIX: Hide the loader here immediately upon first successful content rendering
            const loaderEl = document.getElementById('loader');
            loaderEl.style.opacity = '0';
            setTimeout(() => { loaderEl.style.display = 'none'; }, 500);
        }
        // Always render the latest batch
        render(); 
    }

  } catch (e) {
    console.warn(`Failed to load ${sourceName} (${type}): ${e.message}`);
  } finally {
    // Decrement count and update status
    LOADING_COUNT--;
    updateStatus(); 
    
    // Fallback: If all fetches are complete and nothing rendered, show error message
    if (LOADING_COUNT === 0 && !INITIAL_RENDERED) {
        document.getElementById("feed-stream").innerHTML = '<div style="text-align: center; padding: 50px; color: var(--gray);">Failed to load any reports. Please check your network or try again later.</div>';
        document.querySelector('main').classList.add('loaded');
        
        const loaderEl = document.getElementById('loader');
        loaderEl.style.opacity = '0';
        setTimeout(() => { loaderEl.style.display = 'none'; }, 500);
    }
  }
}

/* --- RENDERING & UTILITY --- */

function createCardHtml(item) {
    let mediaHtml = '';
    let badgeColor = item.type === 'video' ? '#ef4444' : '#2563eb';
    
    if (item.type === 'video' && item.thumb) {
      mediaHtml = `
        <a href="${item.link}" target="_blank" class="video-wrapper">
          <img src="${item.thumb}" loading="lazy" alt="Video Thumbnail" onerror="this.onerror=null;this.closest('.video-wrapper').style.display='none';">
          <div class="play-overlay"><div class="play-icon">â–¶</div></div>
        </a>`;
    }

    const article = document.createElement('article');
    article.className = 'news-card';
    article.innerHTML = `
      ${mediaHtml}
      <div class="card-body">
        <span class="source-tag" style="color:${badgeColor}">
          ${item.type === 'video' ? 'ðŸ“º' : 'ðŸ“°'} ${item.source}
        </span>
        <h2 class="card-title">
          <a href="${item.link}" target="_blank">${item.title}</a>
        </h2>
        ${item.snippet && item.type === 'news' ? `<p class="card-desc">${item.snippet}</p>` : ''}
        <div class="card-meta">
          <span>${timeAgo(item.date)}</span>
          <span><a href="https://twitter.com/intent/tweet?text=${encodeURIComponent(item.title)}&url=${encodeURIComponent(item.link)}" target="_blank" style="color:var(--gray); text-decoration:none;">Share â†—</a></span>
        </div>
      </div>`;
    return article;
}

function render() {
  const container = document.getElementById("feed-stream");
  
  // Only render up to the current limit
  const totalItemsToDisplay = Math.min(FEED_ITEMS.length, DISPLAY_LIMIT);

  // If nothing new to display, stop.
  if (totalItemsToDisplay <= lastRenderedCount) return; 
  
  const fragment = document.createDocumentFragment();
  
  // Loop starts from the last rendered item, only adding new ones
  for (let i = lastRenderedCount; i < totalItemsToDisplay; i++) {
    const item = FEED_ITEMS[i];
    fragment.appendChild(createCardHtml(item));
  }
  
  container.appendChild(fragment);
  lastRenderedCount = totalItemsToDisplay; 
}

function updateStatus() {
  const el = document.getElementById("conn-status");
  
  if (LOADING_COUNT > 0) {
    el.innerText = `Updating... (${LOADING_COUNT} active)`;
    el.style.backgroundColor = "#fff7ed";
  } else {
    // Only show "Live" once all fetches are complete
    el.innerText = `Live | ${FEED_ITEMS.length} Reports`;
    el.style.backgroundColor = "#dcfce7";
  }
}

// FIX: Robust timeAgo function
function timeAgo(date) {
  // Handle Invalid Date object
  if (isNaN(date.getTime())) return "Unknown Date"; 

  const seconds = Math.floor((new Date() - date) / 1000);
  
  // If date is too far in the past (more than 30 days) to prevent the "14724h ago" error
  if (seconds > (30 * 24 * 3600)) {
    // Show the date in a readable format
    return date.toLocaleDateString('en-IN', { year: 'numeric', month: 'short', day: 'numeric' });
  }

  let interval = seconds / 3600;
  if (interval >= 1) return Math.floor(interval) + "h ago";
  
  interval = seconds / 60;
  if (interval >= 1) return Math.floor(interval) + "m ago";
  
  if (seconds > 10) return Math.floor(seconds) + "s ago";
  return "Just now";
}

// *** Infinite Scroll Logic ***
function checkScroll() {
  const scrollHeight = document.documentElement.scrollHeight;
  const scrollTop = document.documentElement.scrollTop;
  const clientHeight = document.documentElement.clientHeight;
  
  if (scrollTop + clientHeight >= scrollHeight - 500 && DISPLAY_LIMIT < FEED_ITEMS.length) {
    DISPLAY_LIMIT += INCREMENT_STEP;
    render();
  }
}


/* --- INITIALIZATION --- */
window.addEventListener('DOMContentLoaded', () => {
  
  // Set total sources to track
  LOADING_COUNT = SOURCES.news.length + SOURCES.video.length; 
  updateStatus(); 

  // 1. Fetch News First (Priority for initial content visibility)
  SOURCES.news.forEach((src, index) => {
    // Stagger news fetch slightly to avoid overwhelming the proxy
    setTimeout(() => fetchNews(src), index * 200); 
  });

  // 2. Fetch Videos Second (Lower Priority)
  setTimeout(() => {
    SOURCES.video.forEach((src, index) => {
      // Stagger video fetch slightly
      setTimeout(() => fetchVideo(src), index * 250); 
    });
  }, 1000); // 1 second delay after starting news fetch

  window.addEventListener('scroll', checkScroll);
});

</script>
</body>
</html>
